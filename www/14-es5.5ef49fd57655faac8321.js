!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+cje":function(t,e,r){"use strict";r.d(e,"a",function(){return l});var n=r("HDdC"),i=r("XEKg"),o=r("5Jak"),s=r("/GcI"),a=r("cxbk"),u=r("fXoL"),d=r("tk/3"),l=function(){var t=function(){function t(e){c(this,t),this.http=e,this.APIURL=a.a.apiURL}return f(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/restaurant",t)}},{key:"getAllRestaurant",value:function(){return this.http.get(this.APIURL+"/restaurant")}},{key:"updateRestaurant",value:function(t){return this.http.put(this.APIURL+"/restaurant/",t)}},{key:"removeRestaurant",value:function(t){return this.http.delete(this.APIURL+"/restaurant/"+t).toPromise()}},{key:"handleError",value:function(t){return n.a.throw(400===t.status?new i.a(t.json()):404===t.status?new o.a:new s.a(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.cc(d.a))},t.\u0275prov=u.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"/GcI":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function t(e){c(this,t),this.originalError=e}},"5Jak":function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){i(r,t);var e=s(r);function r(){return c(this,r),e.apply(this,arguments)}return r}(r("/GcI").a)},R1vZ:function(t,e,r){"use strict";r.r(e),r.d(e,"DriverHomePageModule",function(){return V});var n,i=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),a=r("tyNb"),u=r("mrSG"),d=r("fXoL"),l=r("Dkj+"),h=r("VNSQ"),v=r("6wYF"),p=r("8D9V"),m=r("ldse"),g=r("+cje"),b=r("HDdC"),y=r("cxbk"),O=r("/GcI"),k=r("XEKg"),w=r("5Jak"),x=r("tk/3"),R=((n=function(){function t(e){c(this,t),this.http=e,this.APIURL=y.a.apiURL}return f(t,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/driver",t)}},{key:"getAllDriver",value:function(){return this.http.get(this.APIURL+"/driver")}},{key:"updateDriver",value:function(t){return this.http.put(this.APIURL+"/driver/",t)}},{key:"removeDriver",value:function(t){return this.http.delete(this.APIURL+"/driver/"+t).toPromise()}},{key:"handleError",value:function(t){return b.a.throw(400===t.status?new k.a(t.json()):404===t.status?new w.a:new O.a(t))}}]),t}()).\u0275fac=function(t){return new(t||n)(d.cc(x.a))},n.\u0275prov=d.Mb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),I=r("Wwn5"),S=["pageTop"];function C(t,e){if(1&t&&(d.Vb(0,"div",12),d.Vb(1,"ion-grid"),d.Vb(2,"ion-row"),d.Vb(3,"ion-label"),d.Ec(4),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t){var r=d.ic();d.Eb(4),d.Fc(r.message)}}function P(t,e){if(1&t&&(d.Vb(0,"ion-select-option",26),d.Ec(1),d.Ub()),2&t){var r=e.$implicit,n=d.ic(2);d.oc("disabled",n.setDisabled(r))("value",r.val),d.Eb(1),d.Gc(" ",r.val," ")}}function D(t,e){if(1&t){var r=d.Wb();d.Vb(0,"ion-row",13),d.Vb(1,"ion-col",14),d.Vb(2,"ion-label"),d.Ec(3),d.Vb(4,"p"),d.Ec(5),d.jc(6,"date"),d.Ub(),d.Vb(7,"span"),d.Vb(8,"ion-button",15),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().location(t.RLocation)}),d.Rb(9,"ion-icon",16),d.Ub(),d.Ub(),d.Vb(10,"p",17),d.Ec(11),d.Ub(),d.Ub(),d.Vb(12,"ion-label",18),d.Vb(13,"b"),d.Ec(14),d.jc(15,"currency"),d.Ub(),d.Ub(),d.Vb(16,"ion-button",19),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().viewOrder(t.id)}),d.Ec(17," view order "),d.Ub(),d.Ub(),d.Vb(18,"ion-col",20),d.Vb(19,"ion-label"),d.Ec(20),d.Vb(21,"p"),d.Ec(22),d.Ub(),d.Vb(23,"span"),d.Vb(24,"ion-button",15),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().location(t.CLocation)}),d.Rb(25,"ion-icon",16),d.Ub(),d.Ub(),d.Ub(),d.Vb(26,"ion-row",21),d.Vb(27,"ion-label",22),d.Ec(28,"Status"),d.Ub(),d.Vb(29,"ion-select",23),d.gc("ionChange",function(t){d.wc(r);var n=e.$implicit;return d.ic().driverStatus(t,n)}),d.Cc(30,P,2,3,"ion-select-option",24),d.Ub(),d.Ub(),d.Vb(31,"button",25),d.gc("click",function(){d.wc(r);var t=e.$implicit;return d.ic().sendMessage(t.CustomerId,t.Customer)}),d.Ec(32," Send message "),d.Ub(),d.Ub(),d.Ub()}if(2&t){var n=e.$implicit;d.Eb(3),d.Gc(" ",n.restaurantName," "),d.Eb(2),d.Fc(d.lc(6,7,n.DateTime,"short")),d.Eb(6),d.Gc(" ",n.restaurantStatus,""),d.Eb(3),d.Gc("Total : ",d.lc(15,10,n.Total,"ETB"),""),d.Eb(6),d.Gc(" ",n.Customer," "),d.Eb(2),d.Fc(n.PhoneNumber),d.Eb(8),d.oc("ngForOf",n.OrderStatus)}}var U,A,j,L=function(t,e){return{"location-visible":t,"location-hidden":e}},E=[{path:"",component:(U=function(){function t(e,r,n,i,o,s,a,u,d,f,l){var h=this;c(this,t),this.fb=e,this.foodService=r,this.orderService=n,this.accountService=i,this.orderDetailsService=o,this.router=s,this.sharedService=a,this.restaurantService=u,this.driverservice=d,this.callNumber=f,this.loadingController=l,this.listOfOrder=[],this.cart=[],this.regform=this.fb.group({}),this.selectedIng=[],this.numberOfChecks=1,this.checkBoxLimit=1,this.dayFinished=[],this.driverstatus=[],this.showLocationDetail=!1,this.currentDate=(new Date).toISOString(),this.increment=0,this.showScroll=!1,this.currentDate=new Date(this.currentDate).toDateString(),console.log(this.currentDate),this.restaurantService.getAllRestaurant().subscribe(function(t){h.listOfRestaurant=t}),this.accountService.getAllAccount().subscribe(function(t){h.listOfAccount=t})}return f(t,[{key:"pageScroller",value:function(){this.pageTop.scrollToTop()}},{key:"ngOnInit",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({message:"loading ...",spinner:"bubbles",animated:!0});case 2:return this.loader=t.sent,t.next=5,this.loader.present().then();case 5:this.regform=this.fb.group({status:[""],currentDate:[""]}),this.getFood(),this.getOrder(),this.getAllOrder(),this.getAccount(),this.getOrderDetails(),this.getRestaurant(),this.getDriver();case 13:case"end":return t.stop()}},t,this)}))}},{key:"getDriver",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.driverservice.getAllDriver().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfDriver=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getRestaurant",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.restaurantService.getAllRestaurant().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfRestaurant=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getFood",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.foodService.getAllFood().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfFood=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"onScroll",value:function(t){var e=t.detail.scrollTop;this.showLocationDetail=e>40,this.showScroll=e>300}},{key:"getAccount",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.accountService.getAllAccount().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfAccount=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOrderDetails",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderDetailsService.getAllOrderDetail().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfOrderDetails=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getAllOrder",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:return e.next=4,t;case 4:this.listOfAllOrder=e.sent;case 5:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"setDisabled",value:function(t){return this.dayFinished.includes(t)}},{key:"driverStatus",value:function(t,e){var r=this;this.driverstatus=[],this.status=t.detail.value;var n=e.OrderStatus,i=n.find(function(e){return e.val==t.detail.value});this.dayFinished.includes(i)?this.dayFinished.splice(this.dayFinished.indexOf(i),1):this.dayFinished.push(i);var o=this.listOfAllOrder.find(function(t){return t.id==e.id}),s=localStorage.getItem("userId");n.forEach(function(t){r.checked=t.val==i.val,r.driverstatus.push({id:t.id,val:t.val,isChecked:r.checked})}),this.driverstatus.length>0&&this.orderService.updateOrder({id:o.id,dateTime:o.dateTime,customer:o.customer,location:{latitude:o.location.latitude,longtude:o.location.longtude},orderStatuses:this.driverstatus,total:o.total,driver:s,vehicle:o.vehicle,orderLocation:o.orderLocation,restaurantStatuses:o.restaurantStatuses,restaurantId:o.restaurantId,customerStatus:o.customerStatus,statuses:o.statuses}).subscribe(function(t){console.log(t.toString()),r.getOrder()})}},{key:"getOrder",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.listOfOrder=[],this.orderService.getAllOrder().subscribe(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:if(!(t.length>0&&0==this.listOfOrder.length)){e.next=19;break}return r=localStorage.getItem("userId"),e.next=6,t.find(function(t){return t.driver==r});case 6:if(!e.sent){e.next=15;break}return e.next=9,t.filter(function(t){return t.driver===r&&t.orderStatuses.find(function(t){return 0==t.isChecked&&"delivered"==t.val})&&t.statuses.find(function(t){return 0==t.isChecked&&"Reject"==t.val})});case 9:this.order=e.sent,this.getListOrder(),this.order=t.filter(function(t){return t.orderStatuses.find(function(t){return 0==t.isChecked&&"picked"==t.val})&&t.orderStatuses.find(function(t){return 0==t.isChecked&&"delivered"==t.val})&&t.orderStatuses.find(function(t){return 0==t.isChecked&&"start moving"==t.val})&&t.statuses.find(function(t){return 0==t.isChecked&&"Reject"==t.val})}),this.getListOrder(),e.next=19;break;case 15:return e.next=17,t.filter(function(t){return t.orderStatuses.find(function(t){return 0==t.isChecked&&"picked"==t.val})&&t.orderStatuses.find(function(t){return 0==t.isChecked&&"delivered"==t.val})&&t.orderStatuses.find(function(t){return 0==t.isChecked&&"start moving"==t.val})&&t.statuses.find(function(t){return 0==t.isChecked&&"Reject"==t.val})});case 17:this.order=e.sent,this.getListOrder();case 19:case"end":return e.stop()}},e,this)}))},function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.dismiss().then();case 2:console.log(t);case 3:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"getListOrder",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.increment=0,this.order.forEach(function(t){return Object(u.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,n,i,o,s,a,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.listOfRestaurant){e.next=17;break}if(!(r=this.listOfRestaurant.find(function(e){return e.accountId==+t.restaurantId}))){e.next=15;break}for(n=0;n<t.restaurantStatuses.length;n++)1==t.restaurantStatuses[n].isChecked&&(this.restaurantStatus=t.restaurantStatuses[n].val);if(i={id:t.id,restaurantName:r.name,DateTime:t.dateTime,Customer:this.listOfAccount.find(function(e){return e.id==+t.customer}).fullName,PhoneNumber:this.listOfAccount.find(function(e){return e.id==+t.customer}).phonenumber,CLocation:this.listOfAccount.find(function(e){return e.id==+t.customer}).locationId,RLocation:t.location,status:t.orderStatuses,OrderStatus:t.orderStatuses,Total:t.total,Driver:t.driver,CustomerId:t.customer,Vehicle:t.vehicle,orderLocation:t.orderLocation,restaurantStatus:this.restaurantStatus},o=new Date(t.dateTime).toDateString(),e.t0=this.currentDate==o,!e.t0){e.next=11;break}return e.next=10,this.listOfOrder.push(i);case 10:this.increment=this.increment+1;case 11:if(0==this.increment?(this.massge=!0,this.message="no orders"):this.massge=!1,this.listOfOrder.sort(function(t,e){return new Date(e.DateTime).getTime()-new Date(t.DateTime).getTime()}),s=t.orderStatuses.find(function(t){return 1==t.isChecked}),0==(a=t.orderStatuses.findIndex(function(t){return 1==t.isChecked})))void 0!==s&&(this.dayFinished.includes(s)?this.dayFinished.splice(this.dayFinished.indexOf(s),1):this.dayFinished.push(s),this.setDisabled(s));else if(1==a)for(u=t.orderStatuses,c=0;c<=u.length;c++)c<=1&&void 0!==(d=t.orderStatuses[c])&&(this.dayFinished.includes(d)?this.dayFinished.splice(this.dayFinished.indexOf(d),1):this.dayFinished.push(d),this.setDisabled(d));case 15:e.next=18;break;case 17:this.getRefresh();case 18:case"end":return e.stop()}},e,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"viewOrder",value:function(t){var e=this;this.cart=[],this.listOfOrderDetails.filter(function(e){return e.orderId==t}).forEach(function(t){var r={CookingTime:e.listOfFood.find(function(e){return e.id==t.foodId}).cookingTime,DeliveryTime:e.listOfFood.find(function(e){return e.id==t.foodId}).deliveryTime,Description:e.listOfFood.find(function(e){return e.id==t.foodId}).description,Name:e.listOfFood.find(function(e){return e.id==t.foodId}).name,Price:e.listOfFood.find(function(e){return e.id==t.foodId}).price,amount:t.qty,categoryId:e.listOfFood.find(function(e){return e.id==t.foodId}).categoryId,id:t.foodId,picture:e.listOfFood.find(function(e){return e.id==t.foodId}).picture,restaurantId:e.listOfFood.find(function(e){return e.id==t.foodId}).restaurantId,type:e.listOfFood.find(function(e){return e.id==t.foodId}).type,orderDetailsId:t.id,orderStatus:!0};e.cart.push(r)}),this.orderService.addOrder(this.cart),this.sharedService.status.next("driver"),this.router.navigate(["/menu/order-history"])}},{key:"location",value:function(t){this.sharedService.status.next("driver-home"),this.sharedService.RestaurantLocation.next(t),this.router.navigate(["/menu/location"])}},{key:"sendMessage",value:function(t,e){this.sharedService.customerName.next(e),this.sharedService.deriverId.next(localStorage.getItem("userId")),this.sharedService.customerId.next(t),this.router.navigate(["/message"])}},{key:"doRefresh",value:function(t){var e=this;setTimeout(function(){e.getAllOrder(),t.target.complete()},2e3)}},{key:"getRefresh",value:function(){var t=this;setTimeout(function(){t.getOrder()},200)}}]),t}(),U.\u0275fac=function(t){return new(t||U)(d.Qb(o.b),d.Qb(l.a),d.Qb(h.a),d.Qb(v.a),d.Qb(p.a),d.Qb(a.g),d.Qb(m.a),d.Qb(g.a),d.Qb(R),d.Qb(I.a),d.Qb(s.N))},U.\u0275cmp=d.Kb({type:U,selectors:[["app-driver-home"]],viewQuery:function(t,e){var r;1&t&&d.Ic(S,1),2&t&&d.uc(r=d.hc())&&(e.pageTop=r.first)},decls:16,vars:8,consts:[[3,"translucent"],["color","primary"],["slot","start"],["scrollEvents","true",3,"fullscreen","ionScroll"],["pageTop",""],["slot","fixed",3,"ionRefresh"],["class","message",4,"ngIf"],[1,"orders"],["class","ion-padding meal-row",4,"ngFor","ngForOf"],["horizontal","end","vertical","bottom","slot","fixed",3,"ngClass"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],[1,"message"],[1,"ion-padding","meal-row"],["size","6","id","restaurant-info",1,"border-bottom"],[3,"click"],["name","location-outline"],[2,"background-color","#f8f9fa","border-radius","5px","padding-top","3px","padding-left","7px","margin-top","5px"],["color","dark"],["fill","clear",3,"click"],["size","6",1,"border-bottom"],[1,"status"],[2,"padding-top","9px","padding-left","5px"],["interface","popover",3,"ionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],[2,"background-color","#2185d0","border-color","#2185d0","color","#fff","border-radius","0.28571429rem","margin",".25rem .5rem .25rem 0",3,"click"],[3,"disabled","value"]],template:function(t,e){1&t&&(d.Vb(0,"ion-header",0),d.Vb(1,"ion-toolbar",1),d.Vb(2,"ion-buttons",2),d.Rb(3,"ion-menu-button"),d.Ub(),d.Vb(4,"ion-title"),d.Ec(5,"Driver Home"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"ion-content",3,4),d.gc("ionScroll",function(t){return e.onScroll(t)}),d.Vb(8,"ion-refresher",5),d.gc("ionRefresh",function(t){return e.doRefresh(t)}),d.Rb(9,"ion-refresher-content"),d.Ub(),d.Cc(10,C,5,1,"div",6),d.Vb(11,"div",7),d.Cc(12,D,33,13,"ion-row",8),d.Ub(),d.Vb(13,"ion-fab",9),d.Vb(14,"ion-fab-button",10),d.gc("click",function(){return e.pageScroller()}),d.Rb(15,"ion-icon",11),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.oc("translucent",!0),d.Eb(6),d.oc("fullscreen",!0),d.Eb(4),d.oc("ngIf",e.massge),d.Eb(2),d.oc("ngForOf",e.listOfOrder),d.Eb(1),d.oc("ngClass",d.sc(5,L,e.showScroll,!e.showScroll)))},directives:[s.p,s.K,s.i,s.x,s.I,s.k,s.z,s.A,i.n,i.m,s.l,i.l,s.m,s.q,s.o,s.C,s.u,s.j,s.h,s.F,s.R,s.G],pipes:[i.f,i.d],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px}ion-content[_ngcontent-%COMP%]{position:absolute;--padding-bottom:50px}ion-content[_ngcontent-%COMP%]   .orders[_ngcontent-%COMP%]{margin-top:58px}.light-bg[_ngcontent-%COMP%]{background:#fff;z-index:10}.meal-row[_ngcontent-%COMP%]{padding-bottom:0}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150,rgba(0,0,0,.07))}#map[_ngcontent-%COMP%]{width:60%;height:280px}ion-row[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{background-color:#dee2e6;border-radius:3px;margin-top:4px}ion-button[_ngcontent-%COMP%]{margin-top:2px}ion-row[_ngcontent-%COMP%]{border-radius:12px;background-color:#e9ecef;margin-top:4px}ion-row[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-top:19px;padding-left:107px}ion-button[_ngcontent-%COMP%]{padding-left:0}ion-grid[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border-radius:9px;background-color:#f5f5f5;height:139px;margin-top:60px}ion-label[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding-left:60px;padding-top:24px;text-align:center;font-size:28px;font-style:normal;font-family:cursive}.message[_ngcontent-%COMP%]{padding-top:70px;padding-left:12px;color:#337ab7;font-size:27px}.location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}#restaurant-info[_ngcontent-%COMP%]{border-radius:6px;background-color:#dcdcdc;margin-left:-12px}"]}),U)}],F=((j=function t(){c(this,t)}).\u0275fac=function(t){return new(t||j)},j.\u0275mod=d.Ob({type:j}),j.\u0275inj=d.Nb({imports:[[a.j.forChild(E)],a.j]}),j),V=((A=function t(){c(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=d.Ob({type:A}),A.\u0275inj=d.Nb({imports:[[i.c,o.e,s.L,F,o.m]]}),A)},VNSQ:function(r,n,i){"use strict";i.d(n,"a",function(){return l});var o=i("2Vo4"),s=i("cxbk"),a=i("fXoL"),u=i("tk/3"),d=i("ldse"),l=function(){var r=function(){function r(t,e){c(this,r),this.http=t,this.sharedService=e,this.cart=[],this.cartItemCount=new o.a(0),this.RestaurantId=new o.a({}),this.orderStatus=new o.a({}),this.order=[],this.orderItemCount=new o.a(0),this.APIURL=s.a.apiURL}return f(r,[{key:"create",value:function(t){return this.http.post(this.APIURL+"/order",t)}},{key:"getAllOrder",value:function(){return this.http.get(this.APIURL+"/order")}},{key:"getOrderByDate",value:function(t){return this.http.get(this.APIURL+"/order/"+t)}},{key:"updateOrder",value:function(t){return this.http.put(this.APIURL+"/order/",t)}},{key:"removeOrder",value:function(t){return this.http.delete(this.APIURL+"/order/"+t).toPromise()}},{key:"updateOrderStatus",value:function(t){return this.http.put(this.APIURL+"/orderstatus/",t)}},{key:"getCart",value:function(){return this.cart}},{key:"getOrders",value:function(){return this.order}},{key:"getCartItemCount",value:function(){return this.cartItemCount}},{key:"getOrderItemCount",value:function(){return this.orderItemCount}},{key:"getRestaurantId",value:function(){return this.RestaurantId}},{key:"getOrderStatus",value:function(){return this.orderStatus}},{key:"addOrder",value:function(t){var e=this;this.order=[],this.amount=0,this.order.forEach(function(t){var r=e.order.indexOf(function(e){return e.orderDetailsId===t.orderDetailsId});e.order.splice(r,1)}),this.orderItemCount.next(0),t.forEach(function(t){e.amount=e.amount+t.amount,e.order.push({CookingTime:t.CookingTime,DeliveryTime:t.DeliveryTime,Description:t.Description,Name:t.Name,Price:t.Price,amount:t.amount,categoryId:t.categoryId,id:t.Food,picture:t.picture,restaurantId:t.restaurantId,type:t.type,orderDetailsId:t.orderDetailsId})}),this.orderItemCount.next(this.orderItemCount.value+this.amount)}},{key:"addProduct",value:function(t){var r,n=!1,i=e(this.cart);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===t.id){o.amount+=1,n=!0;break}}}catch(s){i.e(s)}finally{i.f()}n||(t.amount=1,this.cart.push(t)),this.cartItemCount.next(this.cartItemCount.value+1)}},{key:"decreaseProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=t(n.value,2),s=o[0],a=o[1];a.id===r.id&&(a.amount-=1,0==a.amount&&this.cart.splice(s,1))}}catch(u){i.e(u)}finally{i.f()}this.cartItemCount.next(this.cartItemCount.value-1)}},{key:"removeProduct",value:function(r){var n,i=e(this.cart.entries());try{for(i.s();!(n=i.n()).done;){var o=t(n.value,2),s=o[0],a=o[1];a.id===r.id&&(this.cartItemCount.next(this.cartItemCount.value-a.amount),this.cart.splice(s,1))}}catch(u){i.e(u)}finally{i.f()}}}]),r}();return r.\u0275fac=function(t){return new(t||r)(a.cc(u.a),a.cc(d.a))},r.\u0275prov=a.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r}()},XEKg:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){i(r,t);var e=s(r);function r(){return c(this,r),e.apply(this,arguments)}return r}(r("/GcI").a)},ldse:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r("2Vo4"),i=r("fXoL"),o=function(){var t=function(){function t(){c(this,t),this.restaurant=new n.a({}),this.status=new n.a({}),this.location=new n.a({}),this.orderId=new n.a({}),this.RestaurantLocation=new n.a({}),this.resId=new n.a({}),this.listOfCatagoryFilter=new n.a({}),this.deriverId=new n.a({}),this.customerId=new n.a({}),this.customerName=new n.a({})}return f(t,[{key:"getMenuFilter",value:function(){return this.listOfCatagoryFilter}},{key:"getLocation",value:function(){return this.location}},{key:"getStatus",value:function(){return this.status}},{key:"getRestaurantLocation",value:function(){return this.RestaurantLocation}},{key:"getRestaurantId",value:function(){return this.resId}},{key:"getDriverId",value:function(){return this.deriverId}},{key:"getCustomerId",value:function(){return this.customerId}},{key:"getCustomerName",value:function(){return this.customerName}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();